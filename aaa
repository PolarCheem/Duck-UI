print("update")
local Library = {}
local Player = game:GetService("Players").LocalPlayer

function Library:Create(name, keybind)

    if game.CoreGui:FindFirstChild(name) then
        game.CoreGui:FindFirstChild(name):Destroy()
    end

    local gui = Instance.new("ScreenGui")
    gui.Name = name
    gui.Parent = game.CoreGui

    local Main = Instance.new("Frame")
    local UICorner = Instance.new("UICorner")
    local Line = Instance.new("Frame")
    local UICorner2 = Instance.new("UICorner")
    local TabFrame = Instance.new("ScrollingFrame")
    
    Main.Size = UDim2.new(0.65, 0, 0.8, 0)
    Main.Position = UDim2.new(0.3, 0, 0.5, 0)  
    Main.AnchorPoint = Vector2.new(0.5, 0.5)
    Main.BackgroundColor3 = Color3.fromRGB(17, 19, 22)
    Main.BorderColor3 = Color3.new(0, 0, 0)
    Main.BorderSizePixel = 0
    Main.Active = true
    Main.BackgroundTransparency = 0
    Main.Draggable = true
    Main.Parent = gui

    UICorner.CornerRadius = UDim.new(0, 15)
    UICorner.Parent = Main

    Line.Size = UDim2.new(0.005, 0, 0.7, 0)
    Line.Position = UDim2.new(0.27, 0, 0.15, 0)
    Line.BackgroundColor3 = Color3.fromRGB(25, 27, 30)
    Line.BorderColor3 = Color3.new(0, 0, 0)
    Line.BorderSizePixel = 0
    Line.Parent = Main

    UICorner2.CornerRadius = UDim.new(0, 15)
    UICorner2.Parent = Line

    TabFrame.Size = UDim2.new(0.27, 0, 0.9, 0)
    TabFrame.Position = UDim2.new(0, 0, 0.1, 0)
    TabFrame.BackgroundColor3 = Color3.fromRGB(17, 19, 22)
    TabFrame.BorderColor3 = Color3.new(0, 0, 0)
    TabFrame.BorderSizePixel = 0
    TabFrame.Parent = Main
    TabFrame.BackgroundTransparency = 1
    TabFrame.ScrollBarThickness = 2

    local UICorner3 = Instance.new("UICorner") 
    UICorner3.CornerRadius = UDim.new(0, 15)
    UICorner3.Parent = TabFrame

    local UIListLayoutTab = Instance.new("UIListLayout")
    UIListLayoutTab.HorizontalAlignment = Enum.HorizontalAlignment.Center
    UIListLayoutTab.SortOrder = Enum.SortOrder.LayoutOrder
    UIListLayoutTab.Padding = UDim.new(0, 8)
    UIListLayoutTab.Parent = TabFrame

    local Window = {}
    
    function Window:tab(tabname, showonstartup)

        
        local Content = Instance.new("ScrollingFrame")
        Content.Size = UDim2.new(0.71, 0, 0.9, 0)  
        Content.Position = UDim2.new(0.29, 0, 0.1, 0)
        Content.BackgroundColor3 = Color3.fromRGB(17, 19, 22)
        Content.BorderColor3 = Color3.new(0, 0, 0)
        Content.BorderSizePixel = 0
        Content.Parent = Main
        Content.BackgroundTransparency = 1
        Content.ScrollBarThickness = 2
				Content.Name = "ContentFrame"

        local UIListLayout = Instance.new("UIListLayout")
        UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
        UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
        UIListLayout.Padding = UDim.new(0, 8)
        UIListLayout.Parent = Content

        local UICorner4 = Instance.new("UICorner") 
        UICorner4.CornerRadius = UDim.new(0, 15)
        UICorner4.Parent = Content

        local Tab = Instance.new("TextButton")
        Tab.Size = UDim2.new(0.95, 0, 0.05, 0)
        Tab.Position = UDim2.new(0.025, 0, 0, 0)
        Tab.BorderColor3 = Color3.new(0, 0, 0)
        Tab.BorderSizePixel = 0
        Tab.Text = tabname
        Tab.TextSize = 15
        Tab.TextColor3 = Color3.fromRGB(255, 255, 255)
        Tab.Font = Enum.Font.Gotham
        Tab.BackgroundTransparency = 1
        Tab.Parent = TabFrame

        local UICornerTab = Instance.new("UICorner") 
        UICornerTab.CornerRadius = UDim.new(0, 15)
        UICornerTab.Parent = Tab

local UIGradient = Instance.new("UIGradient")
        UIGradient.Transparency = NumberSequence.new(0)
        UIGradient.Rotation = 0
        UIGradient.Parent = nill

        if showonstartup then
						UIGradient.Parent = Tab
        UIGradient.Color = ColorSequence.new({
            ColorSequenceKeypoint.new(0, Color3.fromRGB(75, 69, 245)),
            ColorSequenceKeypoint.new(0.5, Color3.fromRGB(75, 0, 245)),
            ColorSequenceKeypoint.new(1, Color3.fromRGB(17, 19, 22))
        })
            Content.Visible = true
            Tab.TextColor3 = Color3.fromRGB(0, 0, 0)
            Tab.BackgroundTransparency = 0
        else
            Content.Visible = false
            Tab.TextColor3 = Color3.fromRGB(255, 255, 255)
            Tab.BackgroundTransparency = 1
        end

Tab.MouseButton1Click:Connect(function()
    for _, child in pairs(Main:GetChildren()) do
        if child:IsA("ScrollingFrame") and child.Name == "ContentFrame" then
            child.Visible = false
        end
    end

    Content.Visible = true
    UIGradient.Parent = Tab
    UIGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(75, 69, 245)),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(75, 0, 245)),
				ColorSequenceKeypoint.new(1, Color3.fromRGB(17, 19, 22))
    })
    Tab.TextColor3 = Color3.fromRGB(0, 0, 0)
    Tab.BackgroundTransparency = 0

    for _, z in pairs(TabFrame:GetChildren()) do
        if z:IsA("TextButton") and z ~= Tab then
            local existingGradient = z:FindFirstChildOfClass("UIGradient")
            if existingGradient then
                existingGradient.Parent = nil
            end
            z.BackgroundTransparency = 1
            z.TextColor3 = Color3.fromRGB(255, 255, 255)
        end
    end
end)



        local pageitems = {}

        function pageitems:button(text, callback)
            local Button = Instance.new("TextButton")
            Button.Name = "Button"
            Button.Parent = Content
            Button.BackgroundColor3 = Color3.fromRGB(25, 27, 30)
            Button.BorderSizePixel = 0
            Button.Size = UDim2.new(0.9, 0, 0.05, 0)
            Button.TextTransparency = 1

            local ButtonName = Instance.new("TextLabel")
            ButtonName.Size = UDim2.new(0.1, 0, 0.1, 0)
            ButtonName.Position = UDim2.new(0.03, 0, 0.45, 0)
            ButtonName.BackgroundColor3 = Color3.new(0, 0, 0)
            ButtonName.BorderColor3 = Color3.new(0, 0, 0)
            ButtonName.BorderSizePixel = 0
            ButtonName.Text = text
            ButtonName.BackgroundTransparency = 1 
            ButtonName.TextColor3 = Color3.fromRGB(255, 255, 255)
            ButtonName.Font = Enum.Font.Gotham
            ButtonName.Parent = Button
            ButtonName.TextSize = 14
            ButtonName.TextXAlignment = Enum.TextXAlignment.Left 

            local UICorner_Button = Instance.new("UICorner")
            UICorner_Button.CornerRadius = UDim.new(0, 10)
            UICorner_Button.Parent = Button

            Button.MouseButton1Click:Connect(function()
                pcall(callback)
            end)
        end

        return pageitems
    end

    return Window
end

local myUI = Library:Create("My UI")

local tab1 = myUI:tab("Tab 1", true) 
local tab2 = myUI:tab("Tab 2", false) 

tab1:button("My Button 1", function()
    print("works from tab 1")
end) 

tab2:button("My Button 2", function()
    print("works from tab 2")
end) 

return Library