print("update")
local Library = {}
local Player = game:GetService("Players").LocalPlayer

function Library:Create(name, keybind)
    
    if game.CoreGui:FindFirstChild(name) then
        game.CoreGui:FindFirstChild(name):Destroy()
    end

local gui = Instance.new("ScreenGui")
gui.Name = name
gui.Parent = game.CoreGui

local Main = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local Line = Instance.new("Frame")
local UICorner2 = Instance.new("UICorner")
local TabFrame = Instance.new("ScrollingFrame")
local Content = Instance.new("ScrollingFrame")  
local GuiName = Instance.new("TextLabel")

--Main
Main.Size = UDim2.new(0.65, 0, 0.8, 0)
Main.Position = UDim2.new(0.3, 0, 0.5, 0)  
Main.AnchorPoint = Vector2.new(0.5, 0.5)
Main.BackgroundColor3 = Color3.fromRGB(17, 19, 22)
Main.BorderColor3 = Color3.new(0, 0, 0)
Main.BorderSizePixel = 0
Main.Active = true
Main.BackgroundTransparency = 0
Main.Draggable = true
Main.Parent = gui

-- Gui Name
GuiName.Size = UDim2.new(0.1, 0, 0.1, 0)
GuiName.Position = UDim2.new(0.01, 0, 0, 0)
GuiName.BackgroundColor3 = Color3.new(0, 0, 0)
GuiName.BorderColor3 = Color3.new(0, 0, 0)
GuiName.BorderSizePixel = 0
GuiName.Text = name
GuiName.BackgroundTransparency = 1 
GuiName.TextColor3 = Color3.fromRGB(255, 255, 255)
GuiName.Font = Enum.Font.Code
GuiName.Parent = Main
GuiName.TextSize = 15

--UiCorner
UICorner.CornerRadius = UDim.new(0, 15)
UICorner.Parent = Main

-- Line1
Line.Size = UDim2.new(0.005, 0, 0.7, 0)
Line.Position = UDim2.new(0.27, 0, 0.15, 0)
Line.BackgroundColor3 = Color3.fromRGB(25, 27, 30)
Line.BorderColor3 = Color3.new(0, 0, 0)
Line.BorderSizePixel = 0
Line.Parent = Main

-- UICorner
UICorner2.CornerRadius = UDim.new(0, 15)
UICorner2.Parent = Line

-- TabFrame
TabFrame.Size = UDim2.new(0.27, 0, 0.9, 0)
TabFrame.Position = UDim2.new(0, 0, 0.1, 0)
TabFrame.BackgroundColor3 = Color3.fromRGB(17, 19, 22)
TabFrame.BorderColor3 = Color3.new(0, 0, 0)
TabFrame.BorderSizePixel = 0
TabFrame.Parent = Main
TabFrame.BackgroundTransparency = 1
TabFrame.ScrollBarThickness = 2

-- UICORNER
local UICorner3 = Instance.new("UICorner") 
UICorner3.CornerRadius = UDim.new(0, 15)
UICorner3.Parent = TabFrame

-- Button
local Button = Instance.new("TextButton")
Button.Name = "Button"
Button.Parent = Content
Button.BackgroundColor3 = Color3.fromRGB(25, 27, 30)
Button.BorderSizePixel = 0
Button.Size = UDim2.new(0.9, 0, 0.05, 0)
Button.TextTransparency = 1

local ButtonName = Instance.new("TextLabel")
ButtonName.Size = UDim2.new(0.1, 0, 0.1, 0)
ButtonName.Position = UDim2.new(0.03, 0, 0.45, 0)
ButtonName.BackgroundColor3 = Color3.new(0, 0, 0)
ButtonName.BorderColor3 = Color3.new(0, 0, 0)
ButtonName.BorderSizePixel = 0
ButtonName.Text = "Button"
ButtonName.BackgroundTransparency = 1 
ButtonName.TextColor3 = Color3.fromRGB(255, 255, 255)
ButtonName.Font = Enum.Font.Gotham
ButtonName.Parent = Button
ButtonName.TextSize = 14
ButtonName.TextXAlignment = Enum.TextXAlignment.Left 

local UICorner_Button = Instance.new("UICorner")
UICorner_Button.CornerRadius = UDim.new(0, 10)
UICorner_Button.Parent = Button

-- UI Library stuff
local Window = {}
    function Window:tab(tabname, showonstartup)
Content.Size = UDim2.new(0.71, 0, 0.9, 0)  
Content.Position = UDim2.new(0.29, 0, 0.1, 0)
Content.BackgroundColor3 = Color3.fromRGB(17,19,22)
Content.BorderColor3 = Color3.new(0, 0, 0)
Content.BorderSizePixel = 0
Content.Parent = Main
Content.BackgroundTransparency = 1
Content.ScrollBarThickness = 2

-- Ui layout
local UIListLayout = Instance.new("UIListLayout")
UIListLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
UIListLayout.Padding = UDim.new(0, 8)
UIListLayout.Parent = Content

-- UICORNER
local UICorner4 = Instance.new("UICorner") 
UICorner4.CornerRadius = UDim.new(0, 15)
UICorner4.Parent = Content

-- Tab
local Tab = Instance.new("TextButton")
Tab.Size = UDim2.new(0.95, 0, 0.05, 0)
Tab.Position = UDim2.new(0.025, 0, 0, 0)
Tab.BorderColor3 = Color3.new(0, 0, 0)
Tab.BorderSizePixel = 0
Tab.Text = tabname
Tab.TextSize = 15
Tab.TextColor3 = Color3.fromRGB(255,255,255)
Tab.Font = Enum.Font.Gotham
Tab.BackgroundTransparency = 1
Tab.BackgroundColor3 = Color3.fromRGB(255,255,255)
Tab.Parent = TabFrame

local UIGradient = Instance.new("UIGradient")
UIGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(75, 69, 245)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(75, 0, 245)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(17, 19, 22))
})
UIGradient.Transparency = NumberSequence.new(0)
UIGradient.Rotation = 0
UIGradient.Parent = Tab

local UICornerTab = Instance.new("UICorner") 
UICornerTab.CornerRadius = UDim.new(0, 15)
UICornerTab.Parent = Tab

        if showonstartup then
            Content.Visible = true
            Tab.BackgroundTransparency = 0
					  Tab.TextColor3 = Color3.fromRGB(0,0,0)
        else
            Content.Visible = false
            Tab.BackgroundTransparency = 1
						Tab.TextColor3 = Color3.fromRGB(255,255,255)
        end

        Tab.MouseButton1Click:Connect(function()
            
            for _, v in pairs(Main:GetChildren()) do
                if v:IsA("ScrollingFrame") and v ~= Content then
                    v.Visible = false
                end
            end
            
            for _, z in pairs(TabFrame:GetChildren()) do
                if z:IsA("TextButton") and z ~= Tab then
                    z.BackgroundTransparency = 0
										z.TextColor3 = Color3.fromRGB(0,0,0)
                end
            end
            
            Content.Visible = true
		        Tab.TextColor3 = Color3.fromRGB(0,0,0)
						Tab.BackgroundTransparency = 1
        end)

      