

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

-- Create circular TextButton
local textButton = Instance.new("TextButton")
textButton.Size = UDim2.new(0, 30, 0, 30) -- Smaller size
textButton.Position = UDim2.new(0.4, -15, 0.77, -15) -- Further adjusted position to move left
textButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255) -- White color for visibility
textButton.BackgroundTransparency = 0 -- Make the button's background visible
textButton.ClipsDescendants = true -- Clip children to fit the circular shape
textButton.Text = "" -- Remove default button text
textButton.Parent = screenGui

-- Add a UI corner to make the button circular
local uiCorner = Instance.new("UICorner")
uiCorner.CornerRadius = UDim.new(1, 0)
uiCorner.Parent = textButton

-- Create a text label inside the circular button
local textLabel = Instance.new("TextLabel")
textLabel.Size = UDim2.new(1, 0, 1, 0)
textLabel.Position = UDim2.new(0, 0, 0, 0)
textLabel.Text = "" -- Fixed missing quote
textLabel.TextColor3 = Color3.new(0, 0, 0)
textLabel.BackgroundTransparency = 1 -- Make the background transparent
textLabel.TextScaled = true
textLabel.Font = Enum.Font.SourceSans
textLabel.Parent = textButton

-- Create a UIStroke to outline the circular button
local uiStroke = Instance.new("UIStroke")
uiStroke.Color = Color3.new(0.7, 0.7, 0.7)
uiStroke.Thickness = 2
uiStroke.Parent = textButton

-- Connect a function to the button's MouseButton1Click event
textButton.MouseButton1Click:Connect(function()
    local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local balls = game.Workspace:GetChildren()  -- Get all objects in Workspace

local closestBall = nil
local shortestDistance = math.huge

for _, obj in pairs(balls) do
    if obj:FindFirstChild("BallPart") then
        local ballPosition = obj.BallPart.Position
        local distance = (character.PrimaryPart.Position - ballPosition).magnitude
        
        if distance < shortestDistance then
            closestBall = obj
            shortestDistance = distance
        end
    end
end

if closestBall then
    local ballPosition = closestBall.BallPart.Position
    character:SetPrimaryPartCFrame(CFrame.new(ballPosition))
end

-- Fire the "Receiving" action
local args = {
    [1] = "Receiving"
}

game:GetService("ReplicatedStorage").Remotes.PlayerAction:FireServer(unpack(args))
end)